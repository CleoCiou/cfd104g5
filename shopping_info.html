<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/shopping_cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>解星鏡 Mistro</title>
    
</head>
<body>
    
    <!-- 網頁頭 by NJ -->
    <!-- 網頁頭 by NJ-->
<header class="main_header">
    
    <!-- main logo -->
    <div class="header_all">
        <!-- main logo -->
        <div class="header_img_box">
            <a href="index.html" class="logo">
                <img src="./images/index_logo_golden-02.png" alt="首頁mistro logo">
            </a>
        </div>
            <!-- icon -->
        <div class="header_bar">
            <div class="header_icon">
                <a href="login.html"><p>登入</p></a>
                <a href="member.html"><img src="./images/header/header-member-02.png" alt="會員icon"></a>
                <a href="shopping_cart.html"><img src="./images/header/header_shopping cart.png" alt="購物車icon"></a>
            </div>
        

            <!-- 漢堡 -->
            <div class="ham_menu">
                <input id="nav_toggle" type="checkbox">
                <label for="nav_toggle" class="ham no_style">
                    <div class="ham_origin">
                        <!-- 漢堡的槓槓 -->
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </label>
                <!-- 電腦選單 -->
                <nav class="menu">
                    <div class="crystal_ball">
                    </div>
                    <div class="rotate_card">
                        <a href="be_teller.html">
                            <div class="menu_card tarot"></div>
                        </a>
                        <a href="con_today_fortune.html">
                            <div class="menu_card zodiac"></div>
                        </a>
                        <a href="shop.html">
                            <div class="menu_card shop"></div>
                        </a>
                    </div>
                    <!-- 手機選單 -->
                    <ul class="menu_list">
                        <li class="menu_item">
                            <a class="menu_link" href="#">
                                塔羅
                            </a>
                            <ul class="sub_menu">
                                <li><a href="be_teller.html">體驗占卜師</a></li>
                                <li><a href="online_divination.html">線上占卜</a></li>
                                <li><a href="teller_reservation.html">預約占卜師</a></li>
                            </ul>
                        </li>
                        <li class="menu_item">
                            <a class="menu_link" href="#">
                                星座</a>
                            <ul class="sub_menu">
                                <li><a href="con_today_fortune.html">每日運勢</a></li>
                                <li><a href="con_real_constellation.html">真實星座測驗</a></li>
                                <li><a href="con_pair.html">星座配對</a></li>
                                <li><a href="discuss.html">討論區</a></li>
                            </ul>
                        </li>
                        <li class="menu_item">
                        <a class="menu_link" href="shop.html">
                            商城</a>
                        </li>
                        <li class="menu_item">
                            <a class="menu_link menu_member" href="#">會員專區</a>
                            <ul class="sub_menu">
                                <li><a href="member.html">個人資訊</a></li>
                                <li><a href="mem_reservation.html">我的預約</a></li>
                                <li><a href="mem_orders.html">我的訂單</a></li>
                                <li><a href="teller_mem.html">占卜師專區</a></li>
                            </ul>
                        </li>
                        <li class="menu_item">
                        <a class="menu_link menu_login" href="login.html">登入</a>
                        <a class="menu_link menu_login" href="login.html">註冊</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>


</header>

<!-- <script src="js/common.js"></script> -->
<script src="js/jquery.js"></script>
<script>
    $('.menu_link').click(function(){
        $('.sub_menu').slideUp();
        $(this).siblings('.sub_menu').slideToggle();
    })
</script>



<!-- 網頁內容 -->
    <main id="app">
        <!-- 購物車流程 -->
        <section class="shopping_circle">
            <div class="container">
                <ol class="shopping_process">
                    <li class="item">確認商品</li>
                    <li class="item active">填寫資料</li>
                    <li class="item">訂單確認</li>
                </ol>
            </div>
        </section>
        <section class="shopping_cart">
            <div class="container">
                <!-- 購物車內容 -->
                <div class="cart_detail">
                    <!-- 購物車header -->
                    <div class="cart_header">
                        <div class="item_detail">商品</div>
                        <div class="price">單價</div>
                        <div class="count">數量</div> 
                        <div class="amount">總計</div>
                    </div>
                    <!-- 購物車body -->
                    <div class="cart_body" v-for="(item, index) in itemList" :key="item.id" >
                        <div class="cart_body_box">
                            <div class="item_detail">
                                <div class="cart_card">
                                    <div class="img_box"><img v-bind:src="item.imgUrl" alt=""></div>
                                    <div class="txt_box"><p>{{item.itemName}}</p></div>
                                </div>
                            </div>
                            <div class="price"><span>NT$</span>{{item.price}}</div>
                            <div class="count">
                                {{item.count}}
                            </div> 
                            <div class="amount"><span>NT$</span>{{sum(index)}}</div>
                        </div>
                    </div>        
                </div>
            </div>
        </section>

        <!-- 填寫資料區 -->
        <section class="cart_deliver">
            <div class="container">
                <div class="customer_info">
                    <div class="customer_form">
                        <form action="">
                            <label>
                                <p>姓名</p>
                                <input type="text" id="name">
                            </label>
                            <label>
                                <p>信箱</p>
                                <input type="email">
                            </label>
                            <label>
                                <p>電話</p>
                                <input type="text">
                            </label>
                            <label>
                                <p>地址</p>
                                <input type="text">
                            </label>
                            <label>
                                <p>信用卡卡號</p>
                                <input type="text">
                            </label>
                        </form>
                    </div>
                </div>
                <div class="cart_info_right">
                    <div class="order_total">
                        <div class="first_price">
                            <h4>小計：NT${{total}}</h4>
                        </div>
                        <div class="delivery_fee">
                            <h4>運費：NT$60</h4>
                        </div>
                        <div class="total_price">
                            <h4>總計：NT${{total+60}}</h4>
                        </div>
                    </div>
                    <div class="confirm_btns">
                        <a href="shopping_cart.html"><button class="third_btn">上一步</button></a>
                        <a href="shopping_confirm.html"><button class="primary_btn">結帳</button></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 底部推薦商品 -->
        <section class="cart_bottom">
            <div class="container">
                <div class="item_box">
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/ring/ring_aquarius.jpg">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>水瓶座鑰匙圈</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/ring/ring_gemini.jpg">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>雙子座鑰匙圈</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/necklace/necklace_cancer.png">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>巨蟹座項鍊</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/necklace/necklace_pisces.png">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>雙魚座項鍊</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>


<!-- 網頁尾 By NJ -->
<!-- 網頁尾  by NJ-->
<footer class="main_footer">
    <hr>
    <div class="footer_up">
        
        <a href="#" class="footer_logo">
            <img src="./images/logo_golden.png" alt="解星鏡logo">
        </a>
        
        <div class="footer_nav">
            <ul>
                <li><a href="index.html#int">介紹</a></li>
                <li><a href="index.html#text">占卜</a></li>
                <li><a href="index.html#text">星座</a></li>
                <li><a href="index.html#hft">熱門占卜師</a></li>
                <li><a href="index.html#hp">主打商品</a></li>
                <li><a href="member.html">會員中心</a></li>
            </ul>
        </div>

        <div class="footer_icon">
            <a href="#"><img src="./images/footer/icon-fb.png" alt=""></a>
            <a href="#"><img src="./images/footer/icon-ig.png" alt=""></a>
            <a href="#"><img src="./images/footer/icon-yt.png" alt=""></a>
        </div>
    </div>

    <div class="footer_down">
        <div class="footer_txt_box">
            <p>
                本網站為緯育TibaMe_前端設計工程師班第73期第五組學員專題成果作品，本平台僅供學習、展示之用。若有牴觸有關著作權，或有第三人主張侵害智慧財產權等情事，若有侵權疑慮，請私訊
                <a href="https://www.tibame.com/goodjob/frontend">[TibaMe-前端設計工程師養成班]</a>，後續由專人協助處理。
                <br>
                <br>
                Copyright © 2022 ft. All rights reserved.
            </p>
        </div>
    </div>
</footer>
<script src="js/vue.js"></script>
<script src="js/common.js"></script>
<script>
    
    new Vue({
        el:'#app',
        data:{
            // subtotal: 0,
            itemList:[
                {
                    id:'1',
                    itemName:'水瓶座鑰匙圈',
                    imgUrl:'images/shop/Constellation/ring/ring_aquarius.jpg',
                    price:'500',
                    count:'2'
                },
                {
                    id:'2',
                    itemName:'巨蟹座項鍊',
                    imgUrl:'images/shop/Constellation/necklace/necklace_cancer.png',
                    price:'790',
                    count:'3'
                },
                {
                    id:'3',
                    itemName:'雙魚座項鍊',
                    imgUrl:'images/shop/Constellation/necklace/necklace_pisces.png',
                    price:'1200',
                    count:'1'
                },
                {
                    id:'4',
                    itemName:'雙子座鑰匙圈',
                    imgUrl:'images/shop/Constellation/ring/ring_gemini.jpg',
                    price:'2300',
                    count:'1'
                },

            ]
        },
        methods:{
            handlePlus: function(item){
                item.count++;
            },
            handleSub: function(item){
                if(item.count>1){
                item.count--;                
                }
            },

            handledelete: function(index){
                console.log(this);
                this.itemList.splice(index,1);
            },
            sum(idx){
                return parseInt(this.itemList[idx].price) * parseInt(this.itemList[idx].count)
            }
            
        },
        computed:{
            total() {
                let subtotal = 0;
                for(let i = 0; i < this.itemList.length; i++){
                    subtotal += this.sum(i);
                }
                return subtotal;
            }
        }
})
</script>

</body>
</html>