<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/shopping_cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>解星鏡 Mistro</title>
    
</head>
<body>
    
    <!-- 網頁頭 by NJ -->
    @@include('layout/header.html')



<!-- 網頁內容 -->
    <main id="app">
        <!-- 購物車流程 -->
        <section class="shopping_circle">
            <div class="container">
                <ol class="shopping_process">
                    <li class="item active">確認商品</li>
                    <li class="item">填寫資料</li>
                    <li class="item">訂單確認</li>
                </ol>
            </div>
        </section>
        <section class="shopping_cart">
            <div class="container">
                <!-- 購物車內容 -->
                <div class="cart_detail">
                    <!-- 購物車header -->
                    <div class="cart_header">
                        <div class="item_detail">商品</div>
                        <div class="price">單價</div>
                        <div class="count">數量</div> 
                        <div class="amount">總計</div>
                    </div>
                    <!-- 購物車body -->
                    <div class="cart_body" v-for="(item, index) in itemList" :key="item.id" >
                        <div class="cart_body_box">
                            <div class="item_detail">
                                <div class="cart_card">
                                    <div class="img_box"><img v-bind:src="item.imgUrl" alt=""></div>
                                    <div class="txt_box"><p>{{item.itemName}}</p></div>
                                </div>
                            </div>
                            <div class="price"><span>NT$</span>{{item.price}}</div>
                            <div class="count">
                                <button @click="handleSub(item)">-</button>
                                {{item.count}}
                                <button @click="handlePlus(item)">+</button>
                            </div> 
                            <div class="amount"><span>NT$</span>{{sum}}</div>
                            <!-- <div class="operate">
                                <button @click="handledelete(index)">刪除</button>
                            </div> -->
                        </div>
                    </div>                        
                    <!-- <div class="cart_body">

                        <div class="product_box">
                            <div class="item_detail">
                                <div class="cart_card">
                                    <div class="img_box">
                                        <img src="images/shop/Constellation/key_ring/key_ring_leo.jpg">
                                    </div>
                                    <div class="txt_box">
                                        <p>獅子座鑰匙圈</p>
                                    </div>
                                </div>
                            </div>
                            <div class="price">
                                <p class="cart_price">NT$1,000</p>
                            </div>
                            <div class="count">
                                <button class="btnMinus">
                                    <i class="fa-solid fa-minus"></i>
                                </button>
                                <input type="number"
                                class="cart_quantity" value="2">
                                <button class="btnPlus">
                                    <i class="fa-solid fa-plus"></i>
                                </button>
                            </div>
                            <div class="amount">
                                <p>$2,000</p>
                            </div>
                            <div class="delete_button">
                                <button class="remove_btn">
                                    <i class="fa-solid fa-x"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product_box">
                            <div class="item_detail">
                                <div class="cart_card">
                                    <div class="img_box">
                                        <img src="images/shop/Constellation/key_ring/key_ring_scorpion.jpg">
                                    </div>
                                    <div class="txt_box">
                                        <p>天蠍座鑰匙圈</p>
                                    </div>
                                </div>
                            </div>
                            <div class="price">
                                <p>$1,000</p>
                            </div>
                            <div class="count">
                                <button>
                                    <i class="fa-solid fa-minus"></i>
                                </button>
                                <p>2</p>
                                <button>
                                    <i class="fa-solid fa-plus"></i>
                                </button>
                            </div>
                            <div class="amount">
                                <p>$2,000</p>
                            </div>
                            <div class="delete_button">
                                <button class="remove_btn">
                                    <i class="fa-solid fa-x"></i>
                                </button>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
        </section>

        <!-- 填寫資料區 -->
        <section class="cart_deliver">
            <div class="container">
                <div class="customer_info">
                    <div class="pay_way">
                        <label for="">付款方式：</label>
                        <select>
                            <option>請選擇</option>
                            <option>轉帳付款</option>
                            <option>信用卡</option>
                        </select>
                    </div>            
                    <div class="txt_box">
                        <p>
                            約3~7個工作天到貨，離島運送時間需要多3~5個工作天
                            ，姓名請填寫證件上名字，以確保順利取貨，實際到貨日期，需依各地區物流速度而定。
                        </p>
                    </div>
                </div>                    
                <div class="cart_info_right">
                    <div class="order_total">
                        <div class="first_price">
                            <h4>小計：NT$4,000</h4>
                        </div>
                        <div class="delivery_fee">
                            <h4>運費：NT$60</h4>
                        </div>
                        <div class="total_price">
                            <h4>總計：NT$4,060</h4>
                        </div>
                    </div>
                    <div class="confirm_btns">
                        <a href=""><button class="third_btn">繼續購物</button></a>
                        <a href="shopping_info.html"><button class="primary_btn">下一步</button></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 底部推薦商品 -->
        <section class="cart_bottom">
            <div class="container">
                <div class="item_box">
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/ring/ring_aquarius.jpg">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>水瓶座鑰匙圈</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/ring/ring_gemini.jpg">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>雙子座鑰匙圈</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/necklace/necklace_cancer.png">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>巨蟹座項鍊</p>
                        </div>
                    </div>
                    <div class="item">
                        <a href="">
                            <div class="img_box">
                                <img src="images/shop/Constellation/necklace/necklace_pisces.png">
                            </div>
                        </a>
                        <div class="txt_box">
                            <p>雙魚座項鍊</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main> 



<!-- 網頁尾 By NJ -->
@@include('layout/footer.html')
<script src="js/vue.js"></script>
<script src="js/common.js"></script>
<script>
    
    new Vue({
        el:'#app',
        data:{
            itemList:[
                {
                    id:'1',
                    itemName:'優質短袖白T',
                    imgUrl:'https://images.unsplash.com/photo-1534961880437-ce5ae2033053?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=668&q=80',
                    price:'500',
                    count:'2'
                },
                {
                    id:'2',
                    itemName:'骷髏手短黑T',
                    imgUrl:'https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80',
                    price:'790',
                    count:'3'
                },
                {
                    id:'3',
                    itemName:'超時尚牛仔庫',
                    imgUrl:'https://images.unsplash.com/photo-1529391409740-59f2cea08bc6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1124&q=80',
                    price:'1200',
                    count:'1'
                },
                {
                    id:'4',
                    itemName:'質感褐色系大衣服',
                    imgUrl:'https://images.unsplash.com/photo-1491998664548-0063bef7856c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80',
                    price:'2300',
                    count:'1'
                },
            ]
        },
        methods:{
            handlePlus: function(item){
                item.count++;
            },
            handleSub: function(item){
                if(item.count>1){
                item.count--;                
                }
            },

            handledelete: function(index){
                console.log(this);
                this.itemList.splice(index,1);
            },
            
        },
        computed:{
            sum(){
                return parseInt(this.price) * parseInt(this.count)
            }
        }
})
</script>
</body>
</html>