<!DOCTYPE html>
<html lang="en">
@@include('layout/head.html', {
    'title': '每日占卜'
})
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/TextPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/PixiPlugin.min.js"></script>
<body>
    <main>
        <section class="daily">
            <div class="container">
                <!-- 略過按鈕 直接到首頁 -->
                <div class="daily_btn_box">
                    <a href="homepage.html"><button class="other_btn">SKIP</button></a>
                </div>
                <h1>每日占卜</h1>
                <h4></h4>
                
                

                <!-- 裝卡片的容器 -->
                <div class="dc_box">
                    <!-- 左 -->
                    <div class="daily_card owl_card" id="owl">
                        <img src="images/draw_cards/card_owl.jpg" alt="貓頭鷹卡牌">
                    </div>
                    <!-- 中 -->
                    <div class="daily_card t_card" id="triangle">
                        <img src="images/draw_cards/card_triangle.jpg" alt="貓頭鷹卡牌">
                    </div>
                    <!-- 右 -->
                    <div class="daily_card lion_card">
                        <img src="images/draw_cards/card_lion.jpg" alt="貓頭鷹卡牌">
                    </div>
                </div>
              </div>
        </section>
    </main>
<script>
    let owl = document.getElementById('owl');
    let triangle = document.getElementById('triangle');
    let lion = document.getElementById('lion');
    // let cardArr = new Array(owl,triangle,lion);


    //文字特效插件
    gsap.registerPlugin(TextPlugin);

    NodeList.prototype.forEach = Array.prototype.forEach;
    let cards = document.querySelectorAll('.daily_card');

    gsap.from(cards,{
        delay: 1.3,
        opacity: 0,
        duration: 3,
        ease: "power2.out"
    })
    let tl = gsap.timeline({
        // defaults: {
        //     duration: 1, 
        //     transformOrigin:'50% 50%', 
        //     ease: 'power1.inOut'
        // }
    });
    
    tl.from('h1', {
        y: -20,
        opacity: 0,
        duration: 2,
        ease: "none",
    })
    tl.to('h4', {
        duration: 1,
        text: "請選擇一張卡牌，預測今日的運勢。",
        ease: "none",
    })
    //牌要從左至右 一張一張動
    tl.from('.owl_card', 
        {
            duration: 2, 
            y: 25, 
            yoyo: true, 
            repeat: -1,
        });
    tl.from('.t_card', 
        {
            duration: 2, 
            y: 25, 
            yoyo: true, 
            repeat: -1
        });
    tl.from('.lion_card', 
        {
            duration: 2, 
            y: 25, 
            yoyo: true, 
            repeat: -1
        });


    //三張牌 滑鼠移入移出
    cards.forEach(function(card){
        card.addEventListener('mouseenter', function(){
            tl.pause();
            TweenLite.fromTo(this, 2, 
            {
                rotation: -30,
            },
            {
                rotation: 0,
                ease: Elastic. easeOut.config( 5, 0.2),
            });
        });
        card.addEventListener('mouseleave', function(){
            tl.resume();
            // TweenLite.fromTo(this, 0.5, 
            // {
            //     rotation: -30,
            // },
            // {
            //     ease: Elastic. easeOut.config( 5, 0.2),
            // });
        });
        card.addEventListener('click', function(){
            alert('hi')
        })
    })
        

    
</script>
</body>
</html>