<!DOCTYPE html>
<html lang="en">
@@include('layout/head.html', {
    'title': '塔羅'
})
<link rel="stylesheet" href="css/tarot_book.css">

<body>
    
<!-- 網頁頭 -->
<!-- 內容由 common.js 新增 by PIN -->
@@include('layout/header.html')


<!-- 網頁內容 -->
<main>

<!-- 塔羅卡牌 by NJ -->
<section class="tarot_book_intro">
    <div class="container">
       <div class="tarot_box">
           
           <div class="img_box">
               <img src="/images/be_teller/black_cat_wizard.svg" alt="">
           </div>
           <h2>塔羅牌介紹</h2> 
           <p>傳統上塔羅牌有78張牌，由兩種不同的牌組所組成。第一種稱為大阿爾克那，由22張沒有花色的牌所組成。第二種稱為小阿爾克那，由56張牌所組成，而這56張牌又可以分成4種花色。每種花色有數字2到數字10的牌，加上一張Ace和四張宮廷牌。</p>
       </div>
    </div>
</section>

    <section class="tarot_book">
        <div class="container">

            
            <div class="book">
                
                <div id="pages" class="pages">
                <div class="page">
                    
                    <div class="first_page img_box">
                    <!-- <img src="/images/be_teller/tarot_book.gif" alt="tarot_book"> -->
                </div>
                </div>
                
                <div class="page">
                    <h3>CONTENT</h3>
                    <div class="tarot_book_menu" id="content">
                    <h3>大阿爾克那 Major Arcana</h3>
                    <ul>
                        <li>0 愚者 The Fool</li>
                        <li>1 魔術師 The Magician</li>
                        <li>2 女祭司 The High Priestess</li>
                        <li>3 皇后 The Empress</li>
                        <li>4 皇帝 The Emperor</li>
                        <li>5 教皇 The Hierophant</li>
                        <li>6 戀人 The Lovers</li>
                        <li>7 戰車 The Chariot</li>
                        <li>8 力量 Strength</li>
                        <li>9 隱者 The Hermit</li>
                        <li>10 命運之輪 The Wheel of Fortune</li>
                        <li>11 正義 The Justice</li>
                        <li>12 倒吊人 The Hanged Man</li>
                        <li>13 死神 Death</li>
                        <li>14 節制 Temperance</li>
                        <li>15 惡魔 The Devil</li>
                        <li>16 高塔 The Tower</li>
                        <li>17 星星 The Star</li>
                        <li>18 月亮 The Moon</li>
                        <li>19 太陽 The Sun</li>
                        <li>20 審判 Judgement</li>
                        <li>21 世界 The World</li>
                    </ul>
                    
                    </div>
                </div>
                <div class="page">
                    <div class="tarot_book_menu">
                        <h3>小阿爾克那 Minor Arcana</h3>
                        <ul>
                            <li>權杖 Wands</li>
                            <li>寶劍 Swords</li>
                            <li>聖杯 Cups</li>
                            <li>錢幣 Pentacles</li>
                        </ul>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="images/tarot_cards/00The_fool.svg" alt="愚者">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="images/tarot_cards/01The _magician.svg" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>魔術師</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="images/tarot_cards/03The_Empress.svg" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>女祭司</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="https://picsum.photos/150/250/?random=10" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="https://picsum.photos/150/250/?random=10" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="https://picsum.photos/150/250/?random=10" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="https://picsum.photos/150/250/?random=10" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page">
                    <div class="item">
                    <div class="img_box">
                        <img src="https://picsum.photos/150/250/?random=10" alt="請幫每張圖片加破圖註解">
                    </div>
                    <div class="txt_box">
                        <h3>愚者</h3>
                        <p>愚者塔羅牌意義：旅程<br>
                        它表明您希望尋求未來的機會，但缺乏明確的具體計劃。由於你沒有什麼顧慮，有時這些特質反而會給你帶來意想不到的成功。然而沒有遠見，使你容易產生動搖，當遇到太多障礙的時候往往會失去原有的目標。 當你想要開始諸如學習，搬家或簽署商業協議之類的，追隨你的直覺並付出行動是不錯的方式。</p>
                    </div>
                    </div>
                </div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                <div class="page"></div>
                </div>
                <a>
                <button class="other_btn to_content" id="to_content">目錄</button>
                <a href="be_tellers.html"><button class="other_btn last_page">上一頁</button></a>
                </a>
            </div>
        </div>
    </section>

</main>


<!-- 網頁尾 -->
<!-- 內容由 common.js 新增 by PIN -->
@@include('layout/footer.html')

<script>
    let pages = document.getElementsByClassName('page');
    let menu = document.querySelectorAll('.tarot_book_menu');

    for(var i = 0; i < pages.length; i++) {
        var page = pages[i];
        if (i % 2 === 0) {
            page.style.zIndex = (pages.length - i);
        }
    }

    document.addEventListener('DOMContentLoaded', function(){
        for(var i = 0; i < pages.length; i++){
            //Or var page = pages[i];
            pages[i].pageNum = i + 1;
            pages[i].onclick=function(e){

                // 目錄跳轉頁
                if (e.target.tagName === 'LI') {
                    // 讓目錄的z-index回復原狀
                    // 好懶頁數先寫死
                    menu[0].classList.remove('active');
                    menu[1].classList.remove('active');
                    
                    // 取得目錄所有項目
                    let menuItem = document.querySelectorAll('.tarot_book_menu ul li');
                    
                    // 取得選取項目是第幾個
                    // --------------------------
                    // page[0]、page[1]=> 目錄兩頁
                    // page[3]=>愚者
                    // page[4]=>魔術師
                    // li[0] => page[3]: li沒有封面、目錄兩頁，內容實際從page[3]開始
                    //   - selectedIndex + 3
                    // --------------------------
                    // filpped一次加兩頁
                    // page[0]、page[1]的class都有flipped是回到目錄頁
                    let selectedIndex = Array.from(menuItem).indexOf(e.target) + 3;
                    console.log(selectedIndex);
                    for (let i = 0; i < menuItem.length; i++) {
                        
                        // 翻到選擇頁
                        // < : 被選擇那頁不用翻
                        if (i < selectedIndex) {
                            pages[i].classList.add('flipped');
                        }
                        else {
                            pages[i].classList.remove('flipped');
                        }
                    }
                    // 書一次加兩頁flipped
                    // 所以選擇奇數項目要幫他多翻一頁
                    if (selectedIndex % 2 !== 0) {
                        pages[selectedIndex].classList.add('flipped');
                    }
                }
                // 翻頁
                else {
                    if (this.pageNum % 2 === 0) {
                        this.classList.remove('flipped');
                        this.previousElementSibling.classList.remove('flipped');
                    }
                    else {
                        this.classList.add('flipped');
                        this.nextElementSibling.classList.add('flipped');

                    }
                
                    // 如果翻到目錄頁，讓menu的z-index加大
                    let nextPage = this.nextElementSibling;
                    let previousPage = this.previousElementSibling;
                    if (nextPage.querySelectorAll('.tarot_book_menu') || prevPage.querySelectorAll('.tarot_book_menu')) {
                        // 好懶頁數先寫死
                        menu[0].classList.add('active');
                        menu[1].classList.add('active');
                    }
                    else {
                        // 好懶頁數先寫死
                        menu[0].classList.remove('active');
                        menu[1].classList.remove('active');
                    }
                }
            }
        }

        // 回目錄
        let to_content = document.getElementById('to_content');
        to_content.addEventListener('click', function() {
            //讓menu的z-index加大
            // 好懶頁數先寫死
            menu[0].classList.add('active');
            menu[1].classList.add('active');
            
            for(let i = 2; i < pages.length; i++) {
                pages[i].classList.remove('flipped');
            }
        });

    })
</script>
</body>
</html>