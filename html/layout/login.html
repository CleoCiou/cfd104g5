<!-- icon -->
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.9/css/unicons.css">
<script src="js/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>


<section class="login">
    <div class="container">

        <input type="checkbox" class="display_none" id="reg_log" name="reg_log" checked>

        <section class="card_box">
            <!-- 切換器 -->
            <div class="switch_box">
                <div class="select_title">
                    <h3 class="item">登入</h3>
                    <h3 class="item">註冊</h3>
                </div>
                <div class="item">
                    <label class="switch" for="reg_log"></label>
                </div>
            </div>

            <!-- 旋轉式卡片 -->
            <div class="rotate_3d_box">
                <!-- 卡片正面: 登入 -->
                <div class="card_item card_font">
                    <!-- 切換登入/註冊 -->
                    <div class="card_header"></div>
                    
                    <!-- 帳號密碼輸入框 -->
                    <div class="card_content">
                        <div class="content_box">
                            <!-- 帳號 -->
                            <div class="item account">
                                <i class="input-icon uil uil-user"></i>
                                <input type="text" name="memId" id="login_memId" placeholder="帳號">
                            </div>
    
                            <!-- 密碼 -->
                            <div class="item password">
                                <i class="input-icon uil uil-lock-alt"></i>
                                <input type="password" name="memPwd" id="login_memPwd" placeholder="密碼">
                            </div>
    
                        </div>
                    </div>
                    
                    <!-- 登入/忘記密碼 -->
                    <div class="card_footer">
                        <div class="action">
                            <button class="secondary_btn">登入</button>
                            <div class="txt_box">
                                <span>忘記密碼?</span>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- 卡片背面: 註冊 -->
                <div class="card_item card_back">
                    <!-- 切換登入/註冊 -->
                    <div class="card_header">
                        <!-- 切換登入/註冊 -->
                        <div class="card_header"></div>
                    </div>
                    <!-- 帳號密碼輸入框 -->
                    <div class="card_content">
                        <div class="content_box">
                            
                            <!-- 帳號 -->
                            <div class="item account">
                                <i class="input-icon uil uil-user"></i>
                                <input type="text" name="memId" id="memId" placeholder="請輸入帳號">
                            </div>
    
                            <!-- 密碼 -->
                            <div class="item password">
                                <i class="input-icon uil uil-lock-alt"></i>
                                <input type="password" name="memPwd" id="memPwd" placeholder="請輸入密碼">
                            </div>

                            <!-- 確認密碼 -->
                            <div class="item confirm_pwd">
                                <i class="input-icon uil uil-lock-alt"></i>
                                <input type="password" name="confirm_pwd" id="confirm_pwd" placeholder="再次輸入密碼">
                            </div>

                            <!-- 姓名 -->
                            <!-- <div class="item memName">
                                <i class="input-icon uil uil-user"></i>
                                <input type="text" name="memName" id="memName" placeholder="請輸入姓名">
                            </div> -->

                            <!-- 信箱 -->
                            <!-- <div class="item email">
                                <i class="uil uil-envelope"></i>
                                <input type="email" name="email" id="email" placeholder="abc@example.com">
                            </div> -->

                            <!-- 生日 -->
                            <!-- <div class="item birthday">
                                <label for="birthday">
                                    <label>生日</label>
                                    <input type="date" name="birthday" id="birthday">
                                    <i class="uil uil-calender"></i>
                                </label>
                            </div> -->

                            <!-- 電話 -->
                            <!-- <div class="item tel">
                                <i class="uil uil-phone"></i>
                                <input type="phone" name="tel" id="tel" placeholder="請輸入手機號碼">
                            </div> -->
                            
                            <!-- 身分 -->
                            <!-- <div class="item identity">
                                <i class="uil uil-chat-bubble-user"></i>
                                <input type="radio">一般會員
                                <input type="radio">占卜師
                            </div> -->

                            <!-- 占卜師介紹 -->
                            <!-- <div class="item introduction">
                                <i class="uil uil-comment-dots"></i>
                                <label>請輸入自我介紹</label>
                                <textarea></textarea>
                            </div> -->

                            <!-- 占卜師證照 -->
                            <!-- <div class="item certificate">
                                <i class="input-icon uil uil-user"></i>
                                <label>請上傳占卜師證照</label><br>
                                <input type="file" id="certificate">
                            </div> -->

                        </div>
                    </div>
                    
                    <!-- 登入/忘記密碼 -->
                    <div class="card_footer">
                        <div class="action">
                            <button class="secondary_btn">註冊</button>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </div>
</section>


<script>

    // [正確訊息, 錯誤更正訊息, 驗證狀態]
    // 若錯誤更正訊息為空，不改變顯示訊息
    const VERIFY = {
        memId: [
            ['帳號可使用', '帳號已被使用', false]
        ],
        memPwd: [
            ['請輸入6位以上密碼', '', false],
            ['一個大寫英文字母', '', false],
            ['一個小寫英文字母', '', false],
            ['一個數字', '', false]
        ],
        confirm_pwd: [
            ['密碼一致', '與上方輸入密碼不符', false]
        ]
    }

    for (let item in VERIFY) {
        $(`#${item}`).focus( () => {
            
            for (let msg in VERIFY[item]) {
                // 創造驗證訊息框
                
            }

            console.log(item);
        });
    }

    // 點密碼輸入框開啟密碼驗證框框
    $("#memPwd").focus( () => {
        gsap.to($(".item.verify"), {
            height: 'auto',
            duration: .5
        })
    });
    // 輸入時驗證密碼
    $("#memPwd").keyup( (key) => {
        let reg = '';
        // 長度檢查
        if ($("#memPwd").val().length > 5) {
            gsap.to($(".verify ul li:nth-child(1)"), {
                color: '#CFB886',
                duration: .3
            })
        }
        else {
            gsap.to($(".verify ul li:nth-child(1)"), {
                color: '#9999',
                duration: .3
            })
        }

        // 大寫檢查
        reg = /[A-Z]/;
        if (reg.test($("#memPwd").val())) {
            gsap.to($(".verify ul li:nth-child(2)"), {
                color: '#CFB886',
                duration: .3
            })
        }
        else {
            gsap.to($(".verify ul li:nth-child(2)"), {
                color: '#9999',
                duration: .3
            })
        }

        // 小寫檢查
        reg = /[a-z]/;
        if (reg.test($("#memPwd").val())) {
            gsap.to($(".verify ul li:nth-child(3)"), {
                color: '#CFB886',
                duration: .3
            })
        }
        else {
            gsap.to($(".verify ul li:nth-child(3)"), {
                color: '#9999',
                duration: .3
            })
        }

        // 數字檢查
        reg = /[0-9]/;
        if (reg.test($("#memPwd").val())) {
            gsap.to($(".verify ul li:nth-child(4)"), {
                color: '#CFB886',
                duration: .3
            })
        }
        else {
            gsap.to($(".verify ul li:nth-child(4)"), {
                color: '#9999',
                duration: .3
            })
        }
    });
    // 收起密碼驗證框
    $("#memPwd").focusout( () => {
        gsap.to($(".item.verify"), {
            height: 0,
            duration: .5
        })
    })
</script>